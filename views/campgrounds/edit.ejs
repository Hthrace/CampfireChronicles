<% layout('layouts/boilerplate') -%>
<section class="col-md-6 offset-md-3 mb-5">
  <h1 class="text-center">Edit <%= campData.title %></h1>
  <form
    action="/campgrounds/<%= campData._id%>?_method=PATCH"
    method="POST"
    class="d-inline validForm"
    novalidate
    enctype="multipart/form-data"
  >
    <div class="input-group mb-3">
      <span class="input-group-text" id="basic-addon1">Name</span>
      <input
        type="text"
        name="campground[title]"
        id="title"
        class="form-control"
        value="<%= campData.title %>"
        required
      />
      <div class="valid-feedback">Looks good!</div>
    </div>
    <div class="mb-3">
      <label for="formFileMultiple" class="form-label">Add More Images</label>
      <input class="form-control" type="file" id="formFileMultiple" name="image" multiple>
    </div>
    </div>
    <div class="input-group mb-3">
      <span class="input-group-text">$</span>
      <input
        type="number"
        name="campground[price]"
        id="price"
        class="form-control"
        step="0.01"
        min="0"
        value="<%= campData.price %>"
        required
      />
      <div class="valid-feedback">You know numbers!</div>
    </div>
    <div class="input-group mb-3">
      <span class="input-group-text">Description</span>
      <textarea
        name="campground[description]"
        id="description"
        class="form-control"
        cols="30"
        rows="10"
        required
      >
<%= campData.description %></textarea
      >
      <div class="valid-feedback">Much words!</div>
    </div>
    <div class="input-group mb-3">
      <span class="input-group-text" id="basic-addon1">Street</span>
      <input
        type="text"
        name="campground[address][street]"
        id="location"
        class="form-control"
        required
        value="<%=campData.address.street%>"
      />
      <div class="valid-feedback">Oh places you go!</div>
    </div>
    <div class="input-group mb-3">
      <span class="input-group-text" id="basic-addon1">City</span>
      <input
        type="text"
        name="campground[address][city]"
        id="location"
        class="form-control"
        required
        value="<%=campData.address.city%>"
      />
      <div class="valid-feedback">Oh places you go!</div>
    </div>
    <div class="mb-3">
      <select class="form-select" name="campground[address][state]" required selected="selected">
        <option value="<%=campData.address.state%>"><%=campData.address.state%></option>
        <option value="AL">Alabama</option>
        <option value="AK">Alaska</option>
        <option value="AZ">Arizona</option>
        <option value="AR">Arkansas</option>
        <option value="CA">California</option>
        <option value="CO">Colorado</option>
        <option value="CT">Connecticut</option>
        <option value="DE">Delaware</option>
        <option value="DC">District Of Columbia</option>
        <option value="FL">Florida</option>
        <option value="GA">Georgia</option>
        <option value="HI">Hawaii</option>
        <option value="ID">Idaho</option>
        <option value="IL">Illinois</option>
        <option value="IN">Indiana</option>
        <option value="IA">Iowa</option>
        <option value="KS">Kansas</option>
        <option value="KY">Kentucky</option>
        <option value="LA">Louisiana</option>
        <option value="ME">Maine</option>
        <option value="MD">Maryland</option>
        <option value="MA">Massachusetts</option>
        <option value="MI">Michigan</option>
        <option value="MN">Minnesota</option>
        <option value="MS">Mississippi</option>
        <option value="MO">Missouri</option>
        <option value="MT">Montana</option>
        <option value="NE">Nebraska</option>
        <option value="NV">Nevada</option>
        <option value="NH">New Hampshire</option>
        <option value="NJ">New Jersey</option>
        <option value="NM">New Mexico</option>
        <option value="NY">New York</option>
        <option value="NC">North Carolina</option>
        <option value="ND">North Dakota</option>
        <option value="OH">Ohio</option>
        <option value="OK">Oklahoma</option>
        <option value="OR">Oregon</option>
        <option value="PA">Pennsylvania</option>
        <option value="RI">Rhode Island</option>
        <option value="SC">South Carolina</option>
        <option value="SD">South Dakota</option>
        <option value="TN">Tennessee</option>
        <option value="TX">Texas</option>
        <option value="UT">Utah</option>
        <option value="VT">Vermont</option>
        <option value="VA">Virginia</option>
        <option value="WA">Washington</option>
        <option value="WV">West Virginia</option>
        <option value="WI">Wisconsin</option>
        <option value="WY">Wyoming</option>
      </select>
      <div class="valid-feedback">Cool state!</div>
    </div>
    <div class="mb-3 row align-items-start">
        <% campData.image.forEach((img, i)=>{%>
          <div class="col-6 col-md-4">
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="checkbox" id="image-<%=i%>" value="<%=img.filename%>" name="deleteImages[]">
              <label class="form-check-label" for="image-<%=i%>"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16">
                <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6Z"/>
                <path d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1ZM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118ZM2.5 3h11V2h-11v1Z"/>
              </svg></label>
            </div>
            <img crossorigin="anonymous" src="<%=img.thumbnail%>" class="img-thumbnail rounded" alt="<%=campData.title%> image <%=i%> ">
          </div>
        <%})%>
    </div>
    <button type="submit" class="btn btn-success">Submit</button>
  </form>
  <a href="/campgrounds/<%=campData._id%>" class="card-link btn btn-primary"
    >Return <%=campData.title%></a
  >
</section>

